<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magic Market</title>
    <script src="https://cdn.jsdelivr.net/npm/ag-grid-community/dist/ag-grid-community.min.js"></script>
</head>

<body>
    <div id="grid" class="ag-theme-quartz" style="height: 100vh"></div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const gridAPI = agGrid.createGrid(document.querySelector("#grid"), {
                columnDefs: [
                    { field: "name", headerName: '名称' },
                    { field: "price", headerName: '价格' },
                    { field: "originalPrice", headerName: '原价' },
                    { field: 'link', headerName: '链接', cellRenderer: ({ value }) => `<a href="${atob(value)}" target="_blank">链接</a>` }
                ],
                defaultColDef: {
                    flex: 1,
                    sorter: true,
                    filter: true,
                },
            });
            fetch('./list.json')
                .then((response) => response.json())
                .then(data => {
                    gridAPI?.setGridOption('rowData', data)
                })
        })
    </script>
</body>

</html>